# 1 尽最大努力交付的基本概念
网络层向上只提供简单灵活的、无连接的、尽最大努力交付的数据报服务。网络层不提供服务质量的承诺。即所传送的分组可能出错、丢失、重复和失序（不按序到达终点），当然也不保证分组传送的时限。
尽最大努力交付并不表示路由器可以任意丢弃分组，实质上就是*不可靠交付*
# 2 虚拟互联网的意义
- 所谓虚拟互连网络也就是逻辑互连网络，它的意思就是互连起来的各种物理网络的异构性本来是客观存在的，但是我们利用 IP 协议就可以使这些性能各异的网络从用户看起来好像是一个统一的网络。（*忽略了异构性*）
- 使用 IP 协议的虚拟互联网络可简称为 IP 网。
- 使用虚拟互联网络的好处是：当互联网上的主机进行通信时，就好像在一个网络上通信一样，而看不见互连的各具体的网络异构细节。
- 如果在这种覆盖全球的 IP 网的上层使用 TCP 协议，那么就是现在的互联网 (Internet)
# 3 网际协议IP
网际协议 IP 是 TCP/IP 体系中*两个最主要的协议之一*。与 IP 协议配套使用的还有三个协议：
- 地址解析协议ARP（作用于链路层和网络层，但是他属于网络层）
- 网际控制报文协议ICMP（作用于运输层和网络层，但是他属于网络层）
- 网际组管理协议IGMP（作用于运输层和网络层，但是他属于网络层）
# 4 分类的IP地址
两级的IP地址结构如下：
![](assets/第4章：网络层/file-20251230130434287.png)
*每一类地址都有一定的固化地址不能改变*，可以根据固化地址来判定是哪一类的地址。
## 4.1 点分十进制记法
![](assets/第4章：网络层/file-20251230130758935.png)
### 4.1.1 判定IP地址类型的简易方法

|    头    | 类型  |
| :-----: | :-: |
|  0～127  |  A  |
| 128～191 |  B  |
| 192～223 |  C  |
| 224～239 |  D  |
| 240～255 |  E  |
## 4.2 IP的指派范围
![](assets/第4章：网络层/file-20251230131259261.png)
- **最大可指派的网络数=$2^\text{网络号位数-固化地址位数}-$
- **最大主机数=$2^{\text{主机号位数}}-2$,因为不安排IP地址全0和全1**